(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{614:function(t,v,_){"use strict";_.r(v);var s=_(1),a=Object(s.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("p",[t._v("一个简单的学校小程序，包含课程表、查看通知两个功能")]),t._v(" "),_("h2",{attrs:{id:"前言"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),_("p",[t._v("最近在学习小程序的开发，因为之前有简单的"),_("code",[t._v("html + css + js + vue")]),t._v("基础，所以直接看了下官方的快速开发模板。就开始上手弄demo，一开始是想做了一个简单的"),_("code",[t._v("Todolist")]),t._v("来练习数据交互。此时问题是没有后端，数据交互只能局限于前端，想用"),_("code",[t._v("Java")]),t._v("写但是觉得码量比较大且本人不太熟悉（课白上了）。用"),_("code",[t._v("nodejs")]),t._v("吧，虽然有js基础感觉学起来不太难，但是毕竟一边查一边学有点麻烦，于是作罢。这个时候我看到了"),_("code",[t._v("云开发")]),t._v("这个东西，js写完前端后端，简单操作数据库还不用学"),_("code",[t._v("SQL")]),t._v("语句，舒服了。查了几下文档就直接上手，另外前后端数据交互使用了"),_("code",[t._v("axios")]),t._v("。做完"),_("code",[t._v("todolist")]),t._v("之后，开始模仿学校两个比较多人使用的小程序进行深入学习。"),_("strong",[t._v('也发现了两款小程序的设计上的不一样（详细可见"准备工作')]),t._v('"'),_("strong",[t._v("内容）")])]),t._v(" "),_("h2",{attrs:{id:"准备工作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),_("h3",{attrs:{id:"整体分析"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#整体分析"}},[t._v("#")]),t._v(" 整体分析")]),t._v(" "),_("p",[_("img",{attrs:{src:"https://chanx-1251137349.file.myqcloud.com/image-20200904231348892.png",alt:"image-20200904231348892"}})]),t._v(" "),_("p",[t._v("我的大概思路如下：")]),t._v(" "),_("p",[_("strong",[t._v("课程表")]),t._v("：第一次登录时，通过云开发向教务系统进行数据拉取并保存到数据库；随后的小程序访问都直接通过云开发拉取数据库信息，不再主动向源站（教务系统）拉取数据")]),t._v(" "),_("p",[t._v("**校内通知：**访问新闻通知网并拉取数据保存到数据库，随后小程序访问都直接通过云开发拉取数据库信息，不通过源站获取。另外还需注意的是，为了保证校内通知的及时性，需要对这个云函数"),_("code",[t._v("getNews()")]),t._v("设置触发器，实现定时拉取新数据。")]),t._v(" "),_("hr"),t._v(" "),_("p",[t._v("在我使用小程序和与开发者交流后，我发现两款小程序在某些方面是采取不同的做法：")]),t._v(" "),_("p",[_("strong",[t._v("A小程序")]),t._v("：课程数据从教务系统拉取后存入数据库，随后小程序访问实际上是小程序和数据库的交互（跟我的差不多")]),t._v(" "),_("p",[_("strong",[t._v("B小程序")]),t._v("：课程数据从教务系统拉取后本地缓存，随后小程序访问实际上是小程序和本地缓存的交互")]),t._v(" "),_("p",[t._v("采取A方式的能对多用户的数据做统一分析处理（如选某门课程的人数、大数据成绩分析），减少对源站的访问")]),t._v(" "),_("p",[t._v("采取B方式的能快速读取数据（读缓存）加速小程序速度，而且小程序后端本身不保存任何用户信息")]),t._v(" "),_("p",[_("strong",[t._v("本文不对两种方式进行比较研究，采用A方式存入数据库，方便我进行开发学习")])]),t._v(" "),_("h3",{attrs:{id:"分析数据"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分析数据"}},[t._v("#")]),t._v(" 分析数据")]),t._v(" "),_("p",[t._v("通过开发者工具查看相关网页的数据交互，尝试用"),_("code",[t._v("postman")]),t._v("或其他工具模拟获取数据的操作，获取数据并对数据进行解析以获取有用信息。")]),t._v(" "),_("h2",{attrs:{id:"开发"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[t._v("#")]),t._v(" 开发")]),t._v(" "),_("h3",{attrs:{id:"校内通知"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#校内通知"}},[t._v("#")]),t._v(" 校内通知")]),t._v(" "),_("h3",{attrs:{id:"课程表"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#课程表"}},[t._v("#")]),t._v(" 课程表")])])}),[],!1,null,null,null);v.default=a.exports}}]);